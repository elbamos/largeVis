CXX_STD=CXX11

CXX1X=$(shell ${R_HOME}/bin/R CMD config CXX11)

ifeq ($(shell $(CXX1X) -fopenmp -E -xc++ - 2>&1 >/dev/null && echo 'true'), true)
  PKG_CFLAGS=$(SHLIB_OPENMP_CFLAGS)
  PKG_LIBS=$(SHLIB_OPENMP_CXXFLAGS) $(SHLIB_OPENMP_CFLAGS) $(FLIBS) $(LAPACK_LIBS) $(BLAS_LIBS)
  PKG_CXXFLAGS=$(SHLIB_OPENMP_CXXFLAGS) -DARMA_64BIT_WORD -DNDEBUG
else
  PKG_LIBS=$(FLIBS) $(LAPACK_LIBS) $(BLAS_LIBS)
  PKG_CXXFLAGS=-DARMA_64BIT_WORD -DNDEBUG
endif