% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dendrogram.R
\name{as.dendrogram.hdbscan}
\alias{as.dendrogram.hdbscan}
\title{as.dendrogram.hdbscan}
\usage{
\method{as.dendrogram}{hdbscan}(object, includeNodes = FALSE, ...)
}
\arguments{
\item{object}{An \code{hdbscan} object.}

\item{includeNodes}{Whether individual nodes should be included in the dendrogram as leaves.
If \code{FALSE} (default), only the cluster hierarchy is shown, with "fallen points" (points that
belong directly to a cluster without being in a sub-cluster) aggregated. Can cause a substantial
increase in the size of the object if \code{TRUE}.}

\item{...}{For compatibility with \code{as.dendrogram}, currently ignored.}
}
\value{
A \code{dendrogram} object, where nodes have the following attributes:
\describe{
  \item{'leaf'}{As in \code{\link[stats]{dendrogram}}.}
  \item{'members'}{As in \code{\link[stats]{dendrogram}}. The total number of observations (points) under this node.}
  \item{'height'}{The distance at which this cluster was formed (1/lambda_birth for clusters, 1/lambda for points).}
  \item{'label'}{A descriptive label for the node.}
  \item{'midpoint'}{As in \code{\link[stats]{dendrogram}}, used for plotting.}
  \item{'cluster'}{The cluster ID number. Missing for individual points when includeNodes=TRUE.}
  \item{'stability'}{The cluster's stability score. Missing for leaves.}
  \item{'selected'}{Boolean indicating whether the cluster was selected in the final clustering. Missing for leaves.}
  \item{'lambda_birth'}{The lambda value at which the cluster was born. Missing for leaves.}
  \item{'lambda_death'}{The lambda value at which the cluster died/split. Missing for leaves.}
  \item{'GLOSH'}{The GLOSH outlier score (only for individual point leaves when includeNodes=TRUE).}
  \item{'probability'}{The membership probability (only for individual point leaves when includeNodes=TRUE).}
}
}
\description{
Convert an hdbscan object into a dendrogram compatible with the \code{stats} package.
}
\details{
The hdbscan algorithm works by first building a hierarchy based on a minimal spanning tree,
then consolidating nodes according to rules in the algorithm. The algorithm then selects some of the
consolidated nodes as clusters, deselecting others. For example, if Node A has children B and C, the
algorithm might select A, and then all points under A, B, and C would be assigned to the same cluster.
Or, it might deselect A, and select B and C instead. In that case, the nodes under B would be assigned
to one cluster, the nodes under C to a different cluster, and nodes under A but not B or C would not be
assigned to any cluster.

This function returns a dendrogram of the consolidated cluster hierarchy. Whether a node was selected
as a cluster is stored as an attribute of each dendrogram node.
}
\examples{
\dontrun{
data(iris)
dat <- as.matrix(iris[, 1:4])
vis <- largeVis(t(dat), K = 20, sgd_batches = 1, verbose = FALSE)
hdbscanobj <- hdbscan(vis, minPts = 10, K = 5, verbose = FALSE)

# Create dendrogram showing only cluster hierarchy
dend <- as.dendrogram(hdbscanobj)
plot(dend)

# Create dendrogram including individual points as leaves
dend_full <- as.dendrogram(hdbscanobj, includeNodes = TRUE)
plot(dend_full)
}
}
